#!/bin/sh

# Setup OS specific configuration

echo "Setting OS specific configuration"

system_type=$(uname -s)

if [ $system_type = "Darwin" ]; then
  # Configure dock
  defaults write com.apple.dock autohide -bool true
  defaults write com.apple.dock "autohide-time-modifier" -float "1.5" 
  defaults write com.apple.dock "autohide-delay" -float "0"
  killall Dock

  # Configure trackpad
  defaults write -globalDomain com.apple.swipescrolldirection -bool false

  # Empty bin items after 30 days
  defaults write com.apple.finder "FXRemoveOldTrashItems" -bool "true"
  killall Finder

  # Configure iTerm2 to use configuration from .config
  defaults write com.googlecode.iterm2 PrefsCustomFolder -string "$XDG_CONFIG_HOME/iterm2"
  defaults write com.googlecode.iterm2 LoadPrefsFromCustomFolder -bool true
fi
